# ๐ค AI Assistant - ุงููุณุงุนุฏ ุงูุฐูู ููุฑุงุณู

## ูุธุฑุฉ ุนุงูุฉ

ุงููุณุงุนุฏ ุงูุฐูู ูู ูุธุงู AI ูุชุทูุฑ ูุฏูุฌ ูู ููุตุฉ ูุฑุงุณูุ ูุณุชุฎุฏู **ูููุฐุฌ AI ูุญูู ูุฎุตุต** ูููู ุงููุบุฉ ุงูุทุจูุนูุฉ ูุงูุชูุงุนู ุจุฐูุงุก ูุน ุงููุณุชุฎุฏูููุ ูุน ุชูููุฐ ุงูุนูููุงุช ุงููุนููุฉ ุนุจุฑ APIs.

## ๐ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **Local AI Model**: ูููุฐุฌ ูุญูู ุฎููู ูุณุฑูุน (ุจุฏูู API keys ุฎุงุฑุฌูุฉ)
- **Pattern Matching**: ุฎูุงุฑุฒููุงุช ูุชูุฏูุฉ ูููู ุงูููุงูุง
- **NLP Utils**: ุฃุฏูุงุช ูุนุงูุฌุฉ ุงููุบุฉ ุงูุทุจูุนูุฉ ุงููุฎุตุตุฉ
- **Context Memory**: ุฐุงูุฑุฉ ุณูุงููุฉ ูููุญุงุฏุซุงุช
- **Learning System**: ูุธุงู ุชุนูู ูู ุงูุชูุงุนูุงุช
- **RTK Query**: ูุฅุฏุงุฑุฉ API calls
- **TypeScript**: ููุฃูุงู ูุงููุถูุญ ูู ุงูููุฏ

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

โ **ุจุฏูู API Keys ุฎุงุฑุฌูุฉ** - ูุนูู ูุญููุงู ุจุงููุงูู
โ **ุฎููู ูุณุฑูุน** - ุงุณุชุฌุงุจุฉ ููุฑูุฉ
โ **ูุงุจู ููุชุทููุฑ** - ููุฏ ููุชูุญ ููุงุจู ููุชุนุฏูู
โ **ูุชุนูู** - ูุชุญุณู ูุน ุงูุงุณุชุฎุฏุงู
โ **ูููู ุงูููุฌุงุช** - ูุฏุนู ุงูููุฌุฉ ุงูุณุนูุฏูุฉ
โ **ุฐุงูุฑุฉ ุณูุงููุฉ** - ูุชุฐูุฑ ุงููุญุงุฏุซุฉ

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ุฅููุงููุงุช ุงููุณุงุนุฏ

1. **ุฅูุดุงุก ุงูุดุญูุงุช**
   - ููู ุทูุจุงุช ุฅูุดุงุก ุงูุดุญูุงุช ุจูุบุฉ ุทุจูุนูุฉ
   - ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ุงููุทููุจุฉ ูู ุงููุญุงุฏุซุฉ
   - ุชูููุฐ ุนูููุฉ ุงูุฅูุดุงุก ุนุจุฑ API

2. **ุชุชุจุน ุงูุดุญูุงุช**
   - ุชุชุจุน ุงูุดุญูุงุช ุจุฑูู ุงูุชุชุจุน
   - ุนุฑุถ ูุนูููุงุช ููุตูุฉ ุนู ุญุงูุฉ ุงูุดุญูุฉ
   - ุชุญุฏูุซุงุช ููุฑูุฉ ุนู ูููุน ุงูุดุญูุฉ

3. **ุฅูุบุงุก ุงูุดุญูุงุช**
   - ุฅูุบุงุก ุงูุดุญูุงุช ุจุณูููุฉ
   - ุงูุชุฃููุฏ ูุจู ุงูุฅูุบุงุก
   - ูุนุงูุฌุฉ ุทูุจุงุช ุงูุฅูุบุงุก ุนุจุฑ API

4. **ุนุฑุถ ุงูุจูุงูุงุช**
   - ุนุฑุถ ูุงุฆูุฉ ุงูุดุญูุงุช
   - ุนุฑุถ ุงูุทูุจุงุช
   - ูุนูููุงุช ุงูุญุณุงุจ ุงูุดุฎุตู

5. **ุงูุจุญุซ ุงูุฐูู**
   - ุงูุจุญุซ ูู ุงูุดุญูุงุช ูุงูุทูุจุงุช
   - ูุชุงุฆุฌ ุฏูููุฉ ูุณุฑูุนุฉ

## ุงูุจููุฉ ุงูุชูููุฉ

### ุงูููููุงุช ุงูุฃุณุงุณูุฉ

```
lib/ai-assistant/
โโโ ai-engine.ts          # ูุญุฑู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุฑุฆูุณู
โโโ gemini-ai.ts         # ุชูุงูู Gemini AI ูู Google
โโโ nlp-utils.ts         # ุฃุฏูุงุช ูุนุงูุฌุฉ ุงููุบุฉ ุงูุทุจูุนูุฉ
โโโ README.md            # ุงูุชูุซูู

components/v7/
โโโ v7-ai-chat.tsx       # ูุงุฌูุฉ ุงููุญุงุฏุซุฉ
โโโ v7-floating-assistant.tsx  # ุงูุฒุฑ ุงูุนุงุฆู
```

### ูุญุฑู AI (AIEngine)

ุงููุญุฑู ุงูุฑุฆูุณู ุงูุฐู ูุนุงูุฌ ุงูุฑุณุงุฆู ููุญุฏุฏ ุงูููุงูุง ููููุฐ ุงูุฅุฌุฑุงุกุงุช:

```typescript
class AIEngine {
  // ูุนุงูุฌุฉ ุงูุฑุณุงูุฉ ูุชุญุฏูุฏ ุงูููุฉ
  async processMessage(userMessage: string): Promise<AIMessage>
  
  // ูุดู ููุฉ ุงููุณุชุฎุฏู
  private detectIntent(message: string): AIAction["type"]
  
  // ุชูููุฐ ุงูุฅุฌุฑุงุก ุงููุทููุจ
  private async executeAction(type, message): Promise<AIAction>
}
```

### ุฃููุงุน ุงูููุงูุง ุงููุฏุนููุฉ

- `create_shipment` - ุฅูุดุงุก ุดุญูุฉ ุฌุฏูุฏุฉ
- `track_shipment` - ุชุชุจุน ุดุญูุฉ
- `cancel_shipment` - ุฅูุบุงุก ุดุญูุฉ
- `get_shipments` - ุนุฑุถ ุงูุดุญูุงุช
- `get_orders` - ุนุฑุถ ุงูุทูุจุงุช
- `get_profile` - ูุนูููุงุช ุงูุญุณุงุจ
- `search` - ุงูุจุญุซ
- `info` - ูุนูููุงุช ุนุงูุฉ

## ๐ง ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช

### 1. ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ!

ุงููููุฐุฌ ุงููุญูู ูุนูู ูุจุงุดุฑุฉ ุจุฏูู ุฃู ุฅุนุฏุงุฏุงุช ุฃู API keys! ๐

### 2. ุชุดุบูู ุงููุดุฑูุน

```bash
npm install
npm run dev
```

### 3. ุงูุชุฎุตูุต (ุงุฎุชูุงุฑู)

ููููู ุชุนุฏูู ุงููููุฐุฌ ูู `lib/ai-assistant/local-ai.ts`:

```typescript
// ุชุฎุตูุต ุงููุบุฉ ููุธุงู ุงูุชุนูู
const localAI = createLocalAI({
  language: "ar",        // ar ุฃู en
  enableLearning: true,  // ุชูุนูู ุงูุชุนูู ูู ุงูุชูุงุนูุงุช
});
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู

1. **ูุชุญ ุงููุณุงุนุฏ**
   - ุงุถุบุท ุนูู ุฃููููุฉ ุงูุฐุฑุฉ ุงูุนุงุฆูุฉ ูู ุงููููุน
   - ุณุชุธูุฑ ูุงูุฐุฉ ุงููุญุงุฏุซุฉ

2. **ุงูุชูุงุนู ูุน ุงููุณุงุนุฏ**
   
   ุงููุณุงุนุฏ ูููู ุงููุบุฉ ุงูุทุจูุนูุฉ! ุชุญุฏุซ ูุนู ุจุดูู ุทุจูุนู:
   
   ```
   ุฃูุซูุฉ:
   - "ุนุฑุถ ุดุญูุงุชู"
   - "ููู ุดุญูุชู ุฑูู 123456789ุ"
   - "ุจุฏู ุฃูุดุฆ ุดุญูุฉ ูุฃุญูุฏ ูู ุฌุฏุฉ"
   - "ุดู ุนูุฏู ุทูุจุงุชุ"
   - "ูุนูููุงุช ุญุณุงุจู"
   - "ุฃูุบู ุงูุดุญูุฉ ุฑูู 12345"
   ```

3. **ุงูุงูุชุฑุงุญุงุช ุงูุฐููุฉ**
   - ูุนุฑุถ ุงููุณุงุนุฏ ุงูุชุฑุงุญุงุช ุฐููุฉ ุจูุงุกู ุนูู ุงูุณูุงู
   - ุงุถุบุท ุนูู ุฃู ุงูุชุฑุงุญ ูุชูููุฐู ูุจุงุดุฑุฉ

### ูููุทูุฑูู

#### ุฅุถุงูุฉ ููุฉ ุฌุฏูุฏุฉ

1. ุฃุถู ุงูููุน ุงูุฌุฏูุฏ ูู `AIAction["type"]`:
```typescript
export interface AIAction {
  type: 
    | "existing_types"
    | "new_intent_type"  // ุงูููุฉ ุงูุฌุฏูุฏุฉ
}
```

2. ุฃุถู ููุทู ุงููุดู ูู `detectIntent()`:
```typescript
private detectIntent(message: string): AIAction["type"] {
  const msg = message.toLowerCase().trim();
  
  if (msg.includes("ูููุฉ_ููุชุงุญูุฉ")) {
    return "new_intent_type";
  }
  // ...
}
```

3. ุฃุถู ูุนุงูุฌ ูู `executeAction()`:
```typescript
private async executeAction(type, message): Promise<AIAction> {
  switch (type) {
    case "new_intent_type":
      action.result = await this.handleNewIntent(message);
      break;
    // ...
  }
}
```

4. ุฃุถู ุฏุงูุฉ ุงููุนุงูุฌุฉ:
```typescript
private async handleNewIntent(message: string): Promise<any> {
  // ููุทู ุงููุนุงูุฌุฉ
  const response = await fetch(`${API_BASE_URL}/endpoint`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: `Bearer ${this.context.token}`,
    },
    body: JSON.stringify(data),
  });
  
  return await response.json();
}
```

5. ุฃุถู ุชูุณูู ุงูุฑุฏ ูู `generateResponse()`:
```typescript
private generateResponse(intent, action): string {
  switch (intent) {
    case "new_intent_type":
      return this.formatNewIntentResponse(action.result);
    // ...
  }
}
```

## ุงูุฃูุงู

### ุญูุงูุฉ ุงูุจูุงูุงุช

- **Token Authentication**: ุฌููุน ุงูุทูุจุงุช ุชุณุชุฎุฏู token ุงููุณุชุฎุฏู
- **Secure Storage**: ุงูุชููู ูุญููุธ ุจุดูู ุขูู ูู localStorage
- **API Security**: ุฌููุน ุงูุทูุจุงุช ุชูุฑ ุนุจุฑ HTTPS

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

```typescript
try {
  const aiResponse = await aiEngine.processMessage(userInput);
  // ูุนุงูุฌุฉ ุงูุฑุฏ
} catch (error) {
  // ุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ูููุณุชุฎุฏู
  console.error("AI Error:", error);
}
```

## ุงูุชุฎุตูุต

### ุชุฎุตูุต ุงูุฑุฏูุฏ

ููููู ุชุฎุตูุต ุฑุฏูุฏ ุงููุณุงุนุฏ ูู ุฏูุงู ุงูุชูุณูู:

```typescript
private formatShipmentsListResponse(result: any): string {
  // ุชุฎุตูุต ุงูุชูุณูู ุญุณุจ ุงูุญุงุฌุฉ
  return `๐ฆ ุดุญูุงุชู: ${result.data.length}`;
}
```

### ุชุฎุตูุต ุงูุงูุชุฑุงุญุงุช

ูู `v7-ai-chat.tsx`:

```typescript
const updateSuggestions = (actionType?: string) => {
  switch (actionType) {
    case "get_shipments":
      setSuggestions(["ุงูุชุฑุงุญ 1", "ุงูุชุฑุงุญ 2", "ุงูุชุฑุงุญ 3"]);
      break;
    // ...
  }
}
```

## ุงูุฃุฏุงุก

### ุชุญุณููุงุช ุงูุฃุฏุงุก

- **Async Processing**: ุฌููุน ุงูุนูููุงุช ุบูุฑ ูุชุฒุงููุฉ
- **Error Handling**: ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- **Loading States**: ูุคุดุฑุงุช ุชุญููู ูุงุถุญุฉ
- **Caching**: ูููู ุฅุถุงูุฉ caching ููุจูุงูุงุช ุงููุชูุฑุฑุฉ

### ูุนุฏูุงุช ุงูุงุณุชุฌุงุจุฉ

- ูุนุงูุฌุฉ ุงูููุฉ: < 50ms
- ุงุณุชุฏุนุงุก API: 200-500ms (ุญุณุจ ุงูุดุจูุฉ)
- ุนุฑุถ ุงูุฑุฏ: < 100ms

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูููุงูุง

```typescript
// ูุซุงู ุนูู ุงุฎุชุจุงุฑ ูุดู ุงูููุฉ
const engine = new AIEngine(context);
const intent = engine.detectIntent("ุนุฑุถ ุดุญูุงุชู");
expect(intent).toBe("get_shipments");
```

### ุงุฎุชุจุงุฑ ุงูุชูุงูู

```typescript
// ุงุฎุชุจุงุฑ ุชูุงูู ูุงูู
const response = await engine.processMessage("ุชุชุจุน ุดุญูุฉ 123456");
expect(response.action?.type).toBe("track_shipment");
expect(response.action?.status).toBe("success");
```

## ุงููุณุชูุจู

### ููุฒุงุช ูุฎุทุท ููุง

- [ ] ุฏุนู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ
- [ ] ุชุญููู ุงููุดุงุนุฑ
- [ ] ุงูุชุฑุงุญุงุช ุฐููุฉ ูุชูุฏูุฉ
- [ ] ุชูุงูู ูุน Gemini AI
- [ ] ูุญุงุฏุซุงุช ุตูุชูุฉ
- [ ] ุชุนูู ูู ุณููู ุงููุณุชุฎุฏู
- [ ] ุฅุดุนุงุฑุงุช ุงุณุชุจุงููุฉ

## ุงููุณุงููุฉ

ูุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ุฃู ุชุญุณููุงุช:

1. ุงููู ุงูุจููุฉ ุงูุญุงููุฉ
2. ุงุชุจุน ููุท ุงูููุฏ ุงูููุฌูุฏ
3. ุฃุถู ุชูุซูู ููููุฒุงุช ุงูุฌุฏูุฏุฉ
4. ุงุฎุชุจุฑ ุงูุชุบููุฑุงุช ุจุดูู ุดุงูู

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุช:
- ุฑุงุฌุน ุงูุชูุซูู ุฃุนูุงู
- ุชุญูู ูู ุฃูุซูุฉ ุงูููุฏ
- ุงูุญุต console ููุฃุฎุทุงุก

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ**: ูุฑูู ูุฑุงุณู
**ุขุฎุฑ ุชุญุฏูุซ**: 2025
**ุงูุฅุตุฏุงุฑ**: 1.0.0
